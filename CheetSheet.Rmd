Cheetsheet für R

PS02 Struktur und Funktionen
```{r}
#Funktionen kennenlernen
  all() # alle Werte sind TRUE
  any() # mindestens ein Wert ist TRUE
  ifelse() # if else in einer Funktion
```

PS03 Applys
```{r}
# apply, das die erste nicht 0 in einer Matrix such und deren Spalte zurückgibt 
# 1 zeilenweiße 2 spaltenweiße C(1,2) beides
# wich kann als Vektor gesehen werden und [[]] greift auf das erste Element zu

apply(matrix, c(1,2), function(x) which(x != 0)[[1]])

# vapply muss immer den Rückgabetype bestimmt werden
# normal steht in er Matrix noch die anzahl, z.b character(1) "Ein Character"

vapply(matrix, sum, matrix())

# Beispiel Liste von Vektoren
vectors <- list(c(1, 2, 3), c(4, 5, 6), c(7, 8, 9))

#BSP für selber definierte Funktion
threshold <- 5

# Anwenden der Funktion
result <- vapply(vectors, function(x) x > threshold, logical(length(vectors[[1]])))


lapply # gibt eine Liste zurück

replicate(n, func()) #gibt noch ein Simplify Argument 

```

PS04 Debugging
```{r}
cleanInput == paste(rev(strsplit(cleanInput, "")[[1]]), collapse = "") #paste sehr mächtig um Strings zu formatieren
supressWarnings() # unterdrückt Warnungen

# mit ... können beliebig viele Argumente übergeben werden um die abzugreifen muss man sie erst als List oder DF bezeichnen (habs mir DFs noch nicht ausprobiert)

beispielfunction <- function(...){
  args <- list(...)
}
```


PS05 REGEX
```{r}
#. steht für jedes mögliche Zeichen
#* steht für 0 oder mehr Vorkommen
#+ steht für 1 oder mehr Vorkommen
#? steht für 0 oder 1 Vorkommen
#[] Menge wird gesucht aber nur eine Position
#[^] Alles außer Menge wird gesucht aber nur eine Position
#{} Anzahl der Vorkommen
#() Gruppierung und Gruppen bilden für referenzierung
# \b Wortgrenze

grep("^[A-Z]", input, value = TRUE) #Alle Wörter die mit einem Großbuchstaben beginnen  Value True gibt Match zurück ansonsten Position
grepl("^[A-Z]", input, value = TRUE) #gibt einen Logical Vector zurück

sub("[^a-zA-Z]", "", input) #Ersetzt alle Zeichen bis auf Buchstaben durch nichts (nur bei erstem Treffer)
gsub("[^a-zA-Z]", "", input) #Alle Zeichen bis auf Buchstaben ersetzen 

regexpr() #gibt die Position des ersten Matches zurück als Liste
gregexpr() #gibt die Position aller Matches zurück als Liste

regexec() #gibt die Position des ersten Matches zurück und die einzelnen Gruppen in Spalten 
gregexec() #gibt die Position aller Matches zurück und die einzelnen Gruppen in Spalten

#matches ausgeben
matches <- gregexpr("(?<!^)(?<!\\.\\s)([A-Z])\\w+", text, perl = TRUE) #RegEx kann natürlich angepasst werden
found <- regmatches(text, matches)
```

PS06 Benchmarking
```{r}
#keine Vectoren neu erstellen in loops obv

#microbenchmark um einzelne expressions zu evaluieren

#autoplot?
```

PS07 Randomness and Reproducibility
```{r}
sample(values, replace = TRUE)#replace müsste zurücklegen sein
```

PS08 Data Tables
```{r}
#entfernen einer Spalte
b[, "id" := NULL]

#NAs in 0 umwandeln
result[is.na(count), count := 0]

#namen und reihenfolge ändern
setnames(result, c("online", "onsite"), c("count.online", "count.onsite"))
setcolorder(result, c("item", "count.onsite", "count.online"))

```

